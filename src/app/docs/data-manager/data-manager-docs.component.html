<sky-docs-demo-page
  moduleName="SkyDataManagerModule"
  moduleSourceCodePath="src/app/public/modules/data-manager/"
  pageTitle="Data manager"
>
  <sky-docs-demo-page-summary>
    <p>
      The data manager component and service manage the exploration of a data set across any number of SKY UX, third party, or custom views through state observables and data set- and view-level configs.
    </p>
  </sky-docs-demo-page-summary>

  <sky-docs-demo
    [supportsTheming]="false"
  >
    <data-manager-demo></data-manager-demo>
  </sky-docs-demo>

  <sky-docs-design-guidelines>
    <p>Coming soon!</p>
  </sky-docs-design-guidelines>

  <div>
    <h2>Overview</h2>
    <p>
      The data manager is responsible for <b>the options applied to the data</b> but not the data itself. The data manager renders the toolbar and tracks the options selected in the toolbar, but the consuming SPA provides the views that display the data and applies filters and sorts to the data. This provides flexibility and control over the views and data loading while handling some repetitive tasks, such as arranging items in the toolbar and applying sticky settings.
    </p>
    <p>
      The core pieces of the data manager are the config objects (SkyDataManagerConfig and SkyDataViewConfig), the states (SkyDataManagerState and the SkyDataViewStates it contains), and SkyDataManagerService. The data manager renders a toolbar with options based on the overall data manager config and the individual view configs. When changes are made in the toolbar, the data state is updated. These updates are made available through observables on the data manager service.
    </p>
    <p>
      The data manager has one configuration object that includes options that apply across all views, and one configuration object per view that allows each view to be fine-tuned.
    </p>
    <p>
      Similarly, the state includes information that could apply across all views or to a specific view. Options that dictate <b>what</b> data is displayed are in SkyDataManagerState because the data that is displayed should be the same across views. Options that dictate <b>how</b> data is displayed, such as what columns to display, are in SkyDataViewState objects.
      For example, if you display constituents in a grid view and a map view, the same constituents should be in both views, but the view determines the columns to display and whether to display the sort button.
    </p>

    <h2>Usage with data entry grid</h2>
    <p>
      If you use a data entry grid within a data manager component, the skyAgGridDataManagerAdapter directive can manage some standard interactions between the data entry grid and the data manager service. Add the directive should to the sky-data-view element that contains the data entry grid to intialize properties from the data state and keep the data entry grid in sync with the data state. When the data entry grid changes, the data state is updated, and when the data state changes, the data entry grid responds to the changes. The directive manages:
    </p>

    <ul>
      <li>column visibility and order</li>
      <li>selected rows</li>
      <li>active sort state when selected by column header</li>
    </ul>

    <p>
      Other properties of the data state, such as filters and applying the sort, still need to be implemented for each use.
    </p>
  </div>

  <sky-docs-code-examples
    [packageDependencies]="{
      'ag-grid-angular': '*',
      'ag-grid-community': '*',
      '@skyux/ag-grid': '*',
      '@skyux/data-manager': '*',
      '@skyux/datetime': '*',
      '@skyux/inline-form': '*',
      '@skyux/layout': '*',
      '@skyux/lists': '*',
      '@skyux/lookup': '*',
      '@skyux/theme': '*'
    }"
  >
    <sky-docs-code-example
      sourceCodePath="src/app/public/plugin-resources/code-examples/data-manager/basic/"
    >
    </sky-docs-code-example>
  </sky-docs-code-examples>
</sky-docs-demo-page>
