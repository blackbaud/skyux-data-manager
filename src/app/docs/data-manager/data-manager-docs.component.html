<sky-docs-demo-page
  moduleName="SkyDataManagerModule"
  moduleSourceCodePath="src/app/public/modules/data-manager/"
  pageTitle="Data Manager"
>
  <sky-docs-demo-page-summary>
    <p>
      The data manager component and service manage the exploration of a data set across any number of SKY UX, third party, or custom views through state observables and data set- and view-level configs.
    </p>
    <sky-alert alertType="warning">
      This component is a release candidate. We do not plan to make breaking changes before the official release, but such changes are possible.
    </sky-alert>
  </sky-docs-demo-page-summary>

  <sky-docs-demo
    [supportsTheming]="false"
  >
    <data-manager-demo></data-manager-demo>
  </sky-docs-demo>

  <sky-docs-design-guidelines>
    <p>Coming soon!</p>
  </sky-docs-design-guidelines>

  <div>
    <h2>Overview</h2>
    <p>
      The data manager is responsible for <b>the options applied to the data</b> but not the data itself. The data manager renders the toolbar and tracks the options selected in the toolbar, but the consuming SPA provides the views that display the data and applies filters and sorts to the data. This provides flexibility and control over the views and data loading while handling some repetitive tasks, such as arranging items in the toolbar and applying sticky settings.
    </p>
    <p>
      The core pieces of the data manager are the config objects (SkyDataManagerConfig and SkyDataViewConfig), the states (SkyDataManagerState and the SkyDataViewStates it contains), and SkyDataManagerService. The data manager renders a toolbar with options based on the overall data manager config and the individual view configs. When changes are made in the toolbar, the data state is updated. These updates are made available through observables on the data manager service.
    </p>
    <p>
      The data manager has one configuration object that includes options that apply across all views, and one configuration object per view that allows each view to be fine-tuned.
    </p>
    <p>
      Similarly, the state includes information that could apply across all views or to a specific view. Options that dictate <b>what</b> data is displayed are in SkyDataManagerState because the data that is displayed should be the same across views. Options that dictate <b>how</b> data is displayed, such as what columns to display, are in SkyDataViewState objects.
      For example, if you display constituents in a grid view and a map view, the same constituents should be in both views, but the view determines the columns to display and whether to display the sort button.
    </p>

    <h2>Usage with data entry grid</h2>
    <p>
      If you're using a data entry grid component within the data manager component there is a directive skyAgGridDataManagerAdapter that will manage some of the interactions between the grid and the data manager service that are typically the same across grid uses. The directive can be added to the `sky-data-view` element containing the grid. It will initialize and keep up to date the columns listed as visible in the data state, update the data state when the columns are moved or changed within the grid, initialize and keep up to date the selected rows from the data state, update the data state when row selection changes within the grid, and update the data state when the sort is changed within the grid.
    </p>
  </div>

  <sky-docs-code-examples
    [packageDependencies]="{
      'ag-grid-angular': '*',
      'ag-grid-community': '*',
      '@skyux/ag-grid': '*',
      '@skyux/data-manager': '*',
      '@skyux/datetime': '*',
      '@skyux/inline-form': '*',
      '@skyux/layout': '*',
      '@skyux/lists': '*',
      '@skyux/lookup': '*',
      '@skyux/theme': '*'
    }"
  >
    <sky-docs-code-example
      sourceCodePath="src/app/public/plugin-resources/code-examples/data-manager/basic/"
    >
    </sky-docs-code-example>
  </sky-docs-code-examples>
</sky-docs-demo-page>
