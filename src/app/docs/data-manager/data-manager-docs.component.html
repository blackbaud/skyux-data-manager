<sky-docs-demo-page
  moduleName="SkyDataManagerModule"
  moduleSourceCodePath="src/app/public/modules/data-manager/"
  pageTitle="Data Manager"
>
  <sky-docs-demo-page-summary>
    The data manager component and service manage the exploration of a data set across any number of SKY UX, third party, or custom views through state observables and data set- and view-level configs.
  </sky-docs-demo-page-summary>

  <sky-docs-demo
    [supportsTheming]="false"
  >
    <data-manager-demo></data-manager-demo>
  </sky-docs-demo>

  <sky-docs-design-guidelines>
    <p>Coming soon!</p>
  </sky-docs-design-guidelines>

  <div>
    <h2>Overview</h2>
    <p>
      The SKY UX data manager is responsible for <b>the options applied to the data</b> but not the data itself. This means that the data manager handles rendering the toolbar and keeping track of what options are selected in the toolbar, but the consuming SPA provides the views that display the data and handles the application of the filters and sort to their data. This provides flexibility and control over the views and data loading while handling some of repetitive tasks like arranging items in the toolbar, applying sticky settings, etc.
      <br/><br/>
      The core pieces of the data manager are the configuration objects (SkyDataManagerConfig and SkyDataViewConfig), the states (SkyDataManagerState and the SkyDataViewStates it contains), and the SkyDataManagerService. The data manager renders a toolbar that is populated with options based on the overall data manager config and the individual view configs. When changes are made via the toolbar, the data state is updated. These updates are made available via Observables on the data manager service.
      <br/><br/>
      The data manager has one configuration object that includes options that apply across all views, and one configuration object per view that allows each view to be fine-tuned.
      <br/><br/>
      Similarly, the state includes information that could apply across all views or to a specific view. Options that dictate <b>what</b> data is displayed are in the SkyDataManagerState because the data that is displayed should be the same across views. Options that dictate <b>how</b> data is displayed (for example, what columns to show) are in the SkyDataViewState objects.
      For example, if you are displaying constituents in a grid view and a map view, the same constituents should be in both views, but columns or whether or not the sort button should be displayed is determined by the view.
    </p>

    <h2>Usage with data entry grid</h2>
    <p>
      If you're using a data entry grid component within the data manager component there is a directive skyAgGridDataManagerAdapter that will manage some of the interactions between the grid and the data manager service that are typically the same across grid uses. The directive can be added to the `sky-data-view` element containing the grid. It will initialize and keep up to date the columns listed as visible in the data state, update the data state when the columns are moved or changed within the grid, initialize and keep up to date the selected rows from the data state, update the data state when row selection changes within the grid, and update the data state when the sort is changed within the grid.
    </p>
  </div>

  <sky-docs-code-examples
    [packageDependencies]="{
      'ag-grid-angular': '*',
      'ag-grid-community': '*',
      '@skyux/ag-grid': '*',
      '@skyux/data-manager': '*',
      '@skyux/datetime': '*',
      '@skyux/inline-form': '*',
      '@skyux/layout': '*',
      '@skyux/lists': '*',
      '@skyux/lookup': '*',
      '@skyux/theme': '*'
    }"
  >
    <sky-docs-code-example
      sourceCodePath="src/app/public/plugin-resources/code-examples/data-manager/basic/"
    >
    </sky-docs-code-example>
  </sky-docs-code-examples>
</sky-docs-demo-page>
